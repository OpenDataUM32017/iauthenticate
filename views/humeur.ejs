<!-- views/humeur.ejs -->
<!doctype html>
<html>
<head>
    <title>Mon humeur</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        body        { padding-top:80px; }
    </style>
</head>
<body>
<div class="container">

<div class="col-sm-6 col-sm-offset-3">

   <form action="/humeur" method ="post" >
  <div>
     <input type="radio" name="mood" value="joyeux">Joyeux
     <input type="radio"  name="mood" value="bof">Bof
     <input type="radio"  name="mood" value="triste">Triste

     <input type="hidden" name="lat" id="lat" value="">
     <input type="hidden" name="long" id="long" value="">
    
  </div>
  <div>
    <button type="submit" href="/humeur";>Emmetre mon humeur</button>
  </div>
</form>

</div>

</div>

</body>

<script>

var options = {
 enableHighAccuracy: true,
 timeout: 5000,
 maximumAge: 0
};

function success(pos) {
 var crd = pos.coords;
 console.log('Votre position actuelle est :');
 console.log(`Latitude : ${crd.latitude}`);
 console.log(`Longitude: ${crd.longitude}`);
 document.getElementById('lat').value = crd.latitude;
 document.getElementById('long').value = crd.longitude;

};

function error(err) {
 console.warn(`ERROR(${err.code}): ${err.message}`);
};

navigator.geolocation.getCurrentPosition(success, error, options)


</script>

</html>